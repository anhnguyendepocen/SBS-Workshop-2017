

\documentclass[12pt,a4paper]{article}
\usepackage{amsmath}
\usepackage{enumerate}
\usepackage[cm]{fullpage}

\begin{document}
\setlength\parindent{0cm}
%\setlength{\oddsidemargin}{0.25cm}
%\setlength{\evensidemargin}{0.25cm}
\title{\Large{\textbf{Introduction to \texttt{R}}}\\
\textit{Session 1 exercises}}
\author{Statistical Consulting Center}
\date{11 June, 2013}
\maketitle

\section{Using \textbf{R} as a calculator}
\label{sec:use-r-as}

\begin{enumerate}[(i)]

\item \label{itm:calculator} Find the values of:
  \begin{enumerate}
  \item $1+4$
  \item $2^3 + \frac{4}{\sqrt{34}}$
  \item $\log{30}$
  \item $\log_{10}30$
  \item $|-2|$ \hspace{0.2cm}(Hint: $|x|$ denotes the \emph{absolute
      value} of $x$. Search on Google if you're unsure.)
  \end{enumerate}
\item Now open the default \texttt{R} editor by clicking \texttt{File}
  $\rightarrow$ \texttt{New Script}. Save this script by clicking
  \texttt{File} $\rightarrow$ \texttt{Save as...}.
\item Copy and paste the code you typed at the console for {\bf \ref{sec:use-r-as}}(\ref{itm:calculator}) into the \texttt{R} editor. We refer to this code as a
  \emph{script}.  Submit your entire script at once to the \texttt{R}
  GUI by highlighting it and pressing Ctrl $+$ R.
\item From now on, type all of your code in the \texttt{R} editor and
  submit it to the \texttt{R} GUI using Ctrl $+$ R.

\end{enumerate}

\section{Reading data into \texttt{R}}
\label{sec:read}

\begin{enumerate}[(i)]
  \item{} To help you become familiar with working with \texttt{R}, we have taken a very small subset of the scampi data, discussed in Session 1, and stored this in \texttt{smallScampi.csv}. Only 100 rows of the original 44,000+ rows and 6 of the original 20 variables have been retained.  These variables are:
  \begin{itemize}
    \item \texttt{vessel}: unique vessel ID
    \item \texttt{SCIarea}: fishery region
    \item \texttt{fish\textunderscore year}: fishing year (1st Oct to 30th Sept)
    \item \texttt{effort}: duration of tow (hours).
    \item \texttt{scampi\textunderscore catch}: catch of scampi from tow
    \item \texttt{total\textunderscore catch}: total catch (all species) from tow
  \end{itemize}
\item Read the data into \texttt{R}, saving it in an object named \texttt{scampi.df}.
\item Use \texttt{dim()} and \texttt{head()} to look at some of the
  properties of the dataset you have just read into
  \texttt{R}. \emph{Always} perform these two important checks of your data to ensure
  what you have read into \texttt{R} is as it should be.
\item Calculate the mean and standard deviation of both \texttt{scampi\textunderscore catch} and
  \texttt{total\textunderscore catch}.
\item What is the effect of applying the  \texttt{summary()} function to \texttt{scampi\textunderscore catch}, i.e.
\item[]  \texttt{summary(\texttt{scampi.df\$scampi\textunderscore catch})}?
\end{enumerate}

\section{Subsetting datasets}
\label{sec:sub}

\begin{enumerate}[(i)]
\item Print the following to the console:
  \begin{enumerate}
  \item The scampi catches of all tows from vessel 15811.
  \item The total catches from tows lasting 3 hours or less.
  \item The total catches from tows made in the earliest and most recent fishing years in \texttt{scampi.df}.
  \item The one-way frequency table of fishery regions.
  \item The two-way frequency table of fishery regions and vessels.
  \end{enumerate}
\item \label{itm:calc} Calculate:
  \begin{enumerate}[(a)]
\item The average of total catches from tows lasting more than 3 hours.
\item  The average of total catches from tows lasting more than 3 hours in fishery region \texttt{SCI 1}.
  \end{enumerate}
\end{enumerate}

\section{Installing an \texttt{R} package}
\label{sec:pack}
\texttt{R} packages are collections of user-defined functions. The function
\texttt{std.error}, for example, is contained in the \texttt{plotrix} package.
\begin{enumerate}[(i)]
  \item Let's look at what happens when we try to use a function before actually installing the package in which it is contained. E.g. Calculate the standard error of the mean total catch from tows lasting more than 3 hours (see {\bf \ref{sec:sub}}\ref{itm:calc}(a)) using \texttt{std.error}.
\item Install the package \texttt{plotrix} into your \texttt{R} session by following the instructions below:
  \begin{enumerate}
  \item Select \texttt{Packages} from the main menu in your current \texttt{R} session.
  \item \texttt{Install Package(s) ...}
  \item Choose a CRAN mirror region from which the package will be downloaded. We will select \texttt{NZ}.
  \item Scroll down the list of packages until you find \texttt{plotrix}. Select it and click on OK.
  \item Submit the command \texttt{library(plotrix)} to the command
    line to make \texttt{plotrix} available in your current \texttt{R} session.
  \end{enumerate}
\item Now, use \texttt{std.error} to calculate the standard error of the mean total catch from tows lasting more than 3 hours.
\item Try writing your own code to calculate the standard error of the mean total catch. Hint: This only requires one line of code. See Session 1 slides
if you cannot remember how the standard error is calculated.
\end{enumerate}

\section{Write your own function}
\label{sec:func}
\begin{enumerate}[(i)]
  \item\label{itm:sefunc} A simple function  calculate the standard error of the mean in the Session 1 slide, i.e.
%\clearpage\newpage  
  \begin{verbatim}
  mystder <- function(x){
       mysd <- sd(x, na.rm = T)
       n <- length(x)
       mysd/sqrt(n)
  }
  \end{verbatim}
  Copy this code and submit it to the \texttt{R} console.
  \item The 95\% confidence interval for the mean is given by 
  \[ \mathtt{mean \pm 1.96 \times standard error.}\]
  Modify the function in {\bf \ref{sec:func}}(\ref{itm:sefunc}) so that it calculates the 95\%
  confidence interval for the mean.
\end{enumerate}

\end{document}
